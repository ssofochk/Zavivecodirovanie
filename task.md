# Кейс: Разработка микросервиса для работы с бонусными баллами интернет-магазина

Какое-то время назад компания захотела улучшить метрики возвращаемости клиентов в интернет-магазин и для этого запустила сервис бонусных баллов, сервис написали, но в нем есть целый ряд проблем:
-	Не потраченные баллы живут вечно и в текущей версии системы невозможно сделать сгорание баллов, т.к. хранится только текущая сумма
-	Сервис не корректно работает с базой данных и может потерять начисления/списания в случае параллельных запросов, т.к. имплементирует подход Last write wins
-	В текущей реализации, если вызывающий сервис сделал списание в сервисе бонусных баллов, но аварийно завершился в ходе дальнейшего проведения платежа, то баллы не возвращаются владельцу
# Техническое задание:
В этом репозитории хранится старая версия работающего, но с определенными недочетами веб-сервиса. Вам нужно на основе его реализации создать REST-like сервер для работы с бонусными баллами клиентов интернет-магазина:
-	Сервис развернут во внутренней инфраструктуре и нам не нужно закрывать API авторизацией
-	По каждому пользователю можно добавить бонусные баллы
-	У бонусных баллов должно быть время жизни в днях, после которого баллы сгорают
-	По каждому пользователю можно узнать сколько у него баллов и сколько баллов сгорит в ближайшие дни
-	По каждому пользователю можно списать бонусные баллы, одновременное списание баллов по одному пользователю должно приводить к консистентному балансу

Информация по балансам должны хранится персистентно в PostgreSQL
